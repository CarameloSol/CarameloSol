<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui">

    <p:dialog header="Nuevo proveedor" widgetVar="dlgProveedor" modal="true" height="100%" width="40%">
        <p:defaultCommand target="btnGuardar"/>

        <p:outputPanel id="contenidoCrud">



            <div class="ui-dialog-content ui-widget-content" id="form:j_idt164_content" style="height: auto;"><div id="form:manage-product-content" class="ui-outputpanel ui-widget ui-fluid">
                    <div id="form:j_idt165" class="ui-outputpanel ui-widget">

                        <div class="p-field">
                            <p:commandLink id="btnSeleccionarImagen" value="Imagen"
                                           process="@this,subida"
                                           update="subida"
                                           onclick="PF('dialogSubirImagen').show();"
                                           >


                                <p:graphicImage id="imagenProducto" style="position: relative; height: 100px;"
                                                class="btnImagen"
                                                stream="false"
                                                value="#{clienteAD.cliente.imagen eq null?'':clienteAD.cliente.imagen}"
                                                >
                                </p:graphicImage>


                            </p:commandLink>
                        </div>
                        <div class="p-field">
                            <p:outputLabel for="txtIdentificacionProveedor" class="ui-outputlabel ui-widget" value="Identificacion" />
                            <p:inputText id="txtIdentificacionProveedor" value="#{proveedorAD.referente.identificacion}" required="true"
                                         class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all">
                                <p:ajax event="change" update="contenidoCrud" listener="#{proveedorControlador.recuperarDatosPersona()}"/>

                            </p:inputText>
                        </div>

                        <div class="p-field">
                            <p:outputLabel for="txtNombreProveedor" class="ui-outputlabel ui-widget" value="Nombre" />
                            <p:inputText id="txtNombreProveedor" value="#{proveedorAD.referente.nombre}" required="true"  class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all">
                                <p:ajax/>
                            </p:inputText>
                        </div>


                        <div class="p-field">
                            <p:outputLabel for="txtEstadoProveedor" class="ui-outputlabel ui-widget" value="Apellido" />
                            <p:inputText id="txtEstadoProveedor" value="#{proveedorAD.referente.apellido}" required="true"  class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all">
                                <p:ajax/>
                            </p:inputText>
                        </div>

                        <div class="p-field">
                            <p:outputLabel for="sbcEstado" class="ui-outputlabel ui-widget" value="Estado" />
                            <p:selectBooleanCheckbox id="sbcEstado" value="#{proveedorAD.proveedor.estado}">
                                <p:ajax/>
                            </p:selectBooleanCheckbox>


                        </div>



                        <div class="p-formgrid p-grid">

                            <br></br>
                            <div class="ui-dialog-footer ui-widget-content" _mstvisible="1">
                                <span _mstvisible="2">

                                    <p:commandButton id="btnGuardar"  value="Guardar" icon="pi pi-check" process="@this,contenidoCrud" update="contenidoCrud,mensaje" 
                                                     class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left" 
                                                     actionListener="#{proveedorControlador.guardar()}"/>

                                    <p:commandButton  value="Cancelar" icon="pi pi-times" process="@this,contenidoCrud" 
                                                      onclick="PF('dlgProveedor').hide();"
                                                      class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left ui-button-secondary"  
                                                      />

                                </span></div>

                        </div></div></div></div>


        </p:outputPanel>

    </p:dialog> 


</html>

