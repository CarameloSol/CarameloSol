<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">




    <div >
        <p:outputLabel     value="Nombre usuario" /><br/>
        <p:inputText   value="#{usuarioAD.usuarioBusqueda.nombre}"   
                       onkeypress="if (event.keyCode === 13) {
                                   onchange();
                               }"
                       class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all">
            <p:ajax event="change"  process="@this,datosCabecera" listener="#{usuarioControlador.buscar()}" update="tablaPrincipal"/>
        </p:inputText>
    </div>
    <div  >
        <p:outputLabel   value="Rol" /><br/>
        <p:selectOneMenu   dynamic="true"  
                           value="#{usuarioAD.usuarioBusqueda.idRol}" 
                           filter="true" 

                           filterMatchMode="contains"  
                           >
            <f:selectItem itemLabel="Seleccione un rol"
                          itemValue="#{null}"
                          noSelectionOption="true"/>
            <f:selectItems value="#{usuarioAD.listaRoles}"
                           var="rol"
                           itemLabel="#{rol.nombre}"
                           itemValue="#{rol.id}" />
            <p:ajax event="change" process="@this,datosCabecera" listener="#{usuarioControlador.buscar()}" update="tablaPrincipal"/>
        </p:selectOneMenu>
    </div> 



    <p:commandButton id="btnBuscar" value="buscar"   process="@this,datosCabecera"
                     actionListener="#{usuarioControlador.buscar()}" style="font-size: 1.5rem"
                     icon="pi pi-search"   update="tablaPrincipal"
                     class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-button-info p-mr-2 p-mb-2 ui-state-hover" 
                     />

    <p:commandButton id="btnLimpiar" value="Limpiar"   process="@this,datosCabecera" style="font-size: 1.5rem"
                     actionListener="#{usuarioControlador.limpiarBusqueda()}"
                     icon="pi pi-refresh"   update="tablaPrincipal,datosCabecera"
                     class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left ui-state-hover"
                     />

    <p:commandButton value="Nuevo"   process="@this" style="font-size: 1.5rem"
                     actionListener="#{usuarioControlador.nuevo()}"
                     icon="pi pi-plus"  onclick="PF('dlgUsuario').show();" update="form:contenidoCrud"
                     class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left ui-button-success "
                     />



</html>

