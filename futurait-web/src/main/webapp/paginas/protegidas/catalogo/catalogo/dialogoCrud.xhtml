<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <p:dialog header="Nuevo catalogo" widgetVar="dlgCatalogo" modal="true" height="100%" width="40%">
        <p:defaultCommand target="btnGuardar"/>

        <p:outputPanel id="contenidoCrud">



            <div class="ui-dialog-content ui-widget-content" id="form:j_idt164_content" style="height: auto;"><div id="form:manage-product-content" class="ui-outputpanel ui-widget ui-fluid">
                    <div id="form:j_idt165" class="ui-outputpanel ui-widget">




                        <div class="p-field">
                            <p:outputLabel for="txtNombreCatalogo" class="ui-outputlabel ui-widget" value="Nombre" />
                            <p:inputText id="txtNombreCatalogo" value="#{catalogoAD.catalogo.nombre}" required="true"  class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all">
                                <p:ajax/>
                            </p:inputText>
                        </div>


                        <div class="p-field">
                            <p:outputLabel for="txtCodigoCatalogo" class="ui-outputlabel ui-widget" value="Codigo" />
                            <p:inputText id="txtCodigoCatalogo" value="#{catalogoAD.catalogo.codigo}" required="true"  class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all">
                                <p:ajax/>
                            </p:inputText>
                        </div>





                        <div class="p-formgrid p-grid">

                            <p:dataTable id="tablaPrincipalItem" var="item" value="#{catalogoAD.listaItemCrear}" 
                                         rowKey="#{item.id}"  paginator="true" rows="3"
                                         paginatorPosition="bottom"  reflow="true" 
                                         paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="3,6,9">

                                <f:facet name="header">
                                    <p:commandButton value="Agregar" process="@this" actionListener="#{catalogoControlador.agregarItem()}" update="tablaPrincipalItem"/>
                                </f:facet>

                                <p:column headerText="Nombre" sortBy="#{item.nombre}"
                                          filterBy="#{item.nombre}" filterMatchMode="contains">
                                    <h:inputText value="#{item.nombre}" >
                                        <p:ajax/>
                                    </h:inputText>
                                </p:column>



                                <p:column headerText="Codigo" sortBy="#{item.codigo}"
                                          filterBy="#{item.codigo}" filterMatchMode="contains">
                                    <h:inputText value="#{item.codigo}" >
                                        <p:ajax/>
                                    </h:inputText>
                                </p:column>



                                <p:column headerText="Opciones" width="7%">
                                    <p:commandButton value="Eliminar" process="@this" 
                                                     actionListener="#{catalogoControlador.eliminarItem(item)}" update="tablaPrincipalItem"/>







                                </p:column>

                            </p:dataTable>


                            <br></br>
                            <div class="ui-dialog-footer ui-widget-content" _mstvisible="1">
                                <span _mstvisible="2">

                                    <p:commandButton id="btnGuardar"  value="Guardar" icon="pi pi-check" process="@this,contenidoCrud" update="contenidoCrud,mensaje" 
                                                     class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left" 
                                                     actionListener="#{catalogoControlador.guardar()}"/>

                                    <p:commandButton  value="Cancelar" icon="pi pi-times" process="@this,contenidoCrud" 
                                                      onclick="PF('dlgCatalogo').hide();"
                                                      class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left ui-button-secondary"  
                                                      />

                                </span></div>

                        </div></div></div></div>


        </p:outputPanel>

    </p:dialog> 


</html>

